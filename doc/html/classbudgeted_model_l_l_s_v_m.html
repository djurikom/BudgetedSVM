<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BudgetedSVM: budgetedModelLLSVM Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="budgetedSVM.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BudgetedSVM
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">BudgetedSVM: A C++ Toolbox for Large-scale, Non-linear Classification</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classbudgeted_model_l_l_s_v_m-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">budgetedModelLLSVM Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class which holds the LLSVM model, and implements methods to load LLSVM model from and save LLSVM model to text file.  
 <a href="classbudgeted_model_l_l_s_v_m.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="llsvm_8h_source.html">llsvm.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for budgetedModelLLSVM:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classbudgeted_model_l_l_s_v_m.png" usemap="#budgetedModelLLSVM_map" alt=""/>
  <map id="budgetedModelLLSVM_map" name="budgetedModelLLSVM_map">
<area href="classbudgeted_model.html" title="Interface which defines methods to load model from and save model to text file." alt="budgetedModel" shape="rect" coords="0,0,179,24"/>
<area href="classbudgeted_model_matlab_l_l_s_v_m.html" title="Class which holds the LLSVM model, and implements methods to load LLSVM model from and save LLSVM mod..." alt="budgetedModelMatlabLLSVM" shape="rect" coords="0,112,179,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2afcc7e6dcaff1064b803ad78cf823ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#a2afcc7e6dcaff1064b803ad78cf823ff">extendDimensionalityOfModel</a> (unsigned int newDim, <a class="el" href="structparameters.html">parameters</a> *param)</td></tr>
<tr class="memdesc:a2afcc7e6dcaff1064b803ad78cf823ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extends the dimensionality of each landmark point in the LLSVM model.  <a href="classbudgeted_model_l_l_s_v_m.html#a2afcc7e6dcaff1064b803ad78cf823ff">More...</a><br /></td></tr>
<tr class="separator:a2afcc7e6dcaff1064b803ad78cf823ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26bcd16882f20bbe91a46aa6fb9a1256"><td class="memItemLeft" align="right" valign="top"><a id="a26bcd16882f20bbe91a46aa6fb9a1256"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#a26bcd16882f20bbe91a46aa6fb9a1256">budgetedModelLLSVM</a> (void)</td></tr>
<tr class="memdesc:a26bcd16882f20bbe91a46aa6fb9a1256"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor, initializes the LLSVM model. Simply allocates memory for a vector of landmark points, where each is stored in <a class="el" href="classbudgeted_vector_l_l_s_v_m.html" title="Class which holds sparse vector, which is split into a number of arrays to trade-off between speed of...">budgetedVectorLLSVM</a>. <br /></td></tr>
<tr class="separator:a26bcd16882f20bbe91a46aa6fb9a1256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8129f5f97cba529deca6e74279910e8f"><td class="memItemLeft" align="right" valign="top"><a id="a8129f5f97cba529deca6e74279910e8f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#a8129f5f97cba529deca6e74279910e8f">~budgetedModelLLSVM</a> (void)</td></tr>
<tr class="memdesc:a8129f5f97cba529deca6e74279910e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, cleans up memory taken by LLSVM. <br /></td></tr>
<tr class="separator:a8129f5f97cba529deca6e74279910e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f9fbd1e781331190edee1f5571673c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#a36f9fbd1e781331190edee1f5571673c">saveToTextFile</a> (const char *filename, vector&lt; int &gt; *yLabels, <a class="el" href="structparameters.html">parameters</a> *param)</td></tr>
<tr class="memdesc:a36f9fbd1e781331190edee1f5571673c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the trained LLSVM model to .txt file.  <a href="classbudgeted_model_l_l_s_v_m.html#a36f9fbd1e781331190edee1f5571673c">More...</a><br /></td></tr>
<tr class="separator:a36f9fbd1e781331190edee1f5571673c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d31710b760d630dd0d890d262140a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#ab3d31710b760d630dd0d890d262140a8">loadFromTextFile</a> (const char *filename, vector&lt; int &gt; *yLabels, <a class="el" href="structparameters.html">parameters</a> *param)</td></tr>
<tr class="memdesc:ab3d31710b760d630dd0d890d262140a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the trained LLSVM model from .txt file.  <a href="classbudgeted_model_l_l_s_v_m.html#ab3d31710b760d630dd0d890d262140a8">More...</a><br /></td></tr>
<tr class="separator:ab3d31710b760d630dd0d890d262140a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classbudgeted_model"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classbudgeted_model')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classbudgeted_model.html">budgetedModel</a></td></tr>
<tr class="memitem:a30817f179ac0f9dbad678020970b2e1f inherit pub_methods_classbudgeted_model"><td class="memItemLeft" align="right" valign="top"><a id="a30817f179ac0f9dbad678020970b2e1f"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model.html#a30817f179ac0f9dbad678020970b2e1f">~budgetedModel</a> (void)</td></tr>
<tr class="memdesc:a30817f179ac0f9dbad678020970b2e1f inherit pub_methods_classbudgeted_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, cleans up the memory. <br /></td></tr>
<tr class="separator:a30817f179ac0f9dbad678020970b2e1f inherit pub_methods_classbudgeted_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aed3e196f4323c1ec750d0431ae834b8b"><td class="memItemLeft" align="right" valign="top"><a id="aed3e196f4323c1ec750d0431ae834b8b"></a>
vector&lt; <a class="el" href="classbudgeted_vector_l_l_s_v_m.html">budgetedVectorLLSVM</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#aed3e196f4323c1ec750d0431ae834b8b">modelLLSVMlandmarks</a></td></tr>
<tr class="memdesc:aed3e196f4323c1ec750d0431ae834b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds landmark points, used to compute the transformation matrix <a class="el" href="classbudgeted_model_l_l_s_v_m.html#aa2fb0e3b75479b59d8599fd073cb6c84">modelLLSVMmatrixW</a>. <br /></td></tr>
<tr class="separator:aed3e196f4323c1ec750d0431ae834b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67fd5e7e3c6e045088dd90870f9c84b"><td class="memItemLeft" align="right" valign="top"><a id="ab67fd5e7e3c6e045088dd90870f9c84b"></a>
VectorXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#ab67fd5e7e3c6e045088dd90870f9c84b">modelLLSVMweightVector</a></td></tr>
<tr class="memdesc:ab67fd5e7e3c6e045088dd90870f9c84b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds weight vector, the solution of linear SVM on transformed points. <br /></td></tr>
<tr class="separator:ab67fd5e7e3c6e045088dd90870f9c84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2fb0e3b75479b59d8599fd073cb6c84"><td class="memItemLeft" align="right" valign="top"><a id="aa2fb0e3b75479b59d8599fd073cb6c84"></a>
MatrixXd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model_l_l_s_v_m.html#aa2fb0e3b75479b59d8599fd073cb6c84">modelLLSVMmatrixW</a></td></tr>
<tr class="memdesc:aa2fb0e3b75479b59d8599fd073cb6c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds transformation matrix, used to compute the mapping from original feature space into low-D space. <br /></td></tr>
<tr class="separator:aa2fb0e3b75479b59d8599fd073cb6c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classbudgeted_model"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classbudgeted_model')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classbudgeted_model.html">budgetedModel</a></td></tr>
<tr class="memitem:a98b0cfb48e9c6faeff33654acc583459 inherit pub_static_methods_classbudgeted_model"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbudgeted_model.html#a98b0cfb48e9c6faeff33654acc583459">getAlgorithm</a> (const char *filename)</td></tr>
<tr class="memdesc:a98b0cfb48e9c6faeff33654acc583459 inherit pub_static_methods_classbudgeted_model"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get algorithm code from the trained model stored in .txt file, according to enumeration explained at the top of this page.  <a href="classbudgeted_model.html#a98b0cfb48e9c6faeff33654acc583459">More...</a><br /></td></tr>
<tr class="separator:a98b0cfb48e9c6faeff33654acc583459 inherit pub_static_methods_classbudgeted_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class which holds the LLSVM model, and implements methods to load LLSVM model from and save LLSVM model to text file. </p>

<p class="definition">Definition at line <a class="el" href="llsvm_8h_source.html#l00065">65</a> of file <a class="el" href="llsvm_8h_source.html">llsvm.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2afcc7e6dcaff1064b803ad78cf823ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afcc7e6dcaff1064b803ad78cf823ff">&#9670;&nbsp;</a></span>extendDimensionalityOfModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void budgetedModelLLSVM::extendDimensionalityOfModel </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>newDim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparameters.html">parameters</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extends the dimensionality of each landmark point in the LLSVM model. </p>
<p>Extends the dimensionality of each landmark point in the LLSVM model. Called after new data chunk has been loaded, could be needed when user set the dimensionality of the data incorrectly, and we infer this important parameter during loading of the data. </p>

<p>Reimplemented from <a class="el" href="classbudgeted_model.html#aabe7b256f7903a0178c455b7fc8154c8">budgetedModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="llsvm_8h_source.html#l00086">86</a> of file <a class="el" href="llsvm_8h_source.html">llsvm.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="comment">// extend the dimensionality of each weight vector</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; (*modelLLSVMlandmarks).size(); i++)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                (*<a class="code" href="classbudgeted_model_l_l_s_v_m.html#aed3e196f4323c1ec750d0431ae834b8b">modelLLSVMlandmarks</a>)[i]-&gt;extendDimensionality(newDim, param);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        };</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3d31710b760d630dd0d890d262140a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d31710b760d630dd0d890d262140a8">&#9670;&nbsp;</a></span>loadFromTextFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool budgetedModelLLSVM::loadFromTextFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>yLabels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparameters.html">parameters</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the trained LLSVM model from .txt file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Filename of the .txt file where the model is saved. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">yLabels</td><td>Vector of possible labels. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">param</td><td>The parameters of the algorithm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns false if error encountered, otherwise true.</dd></dl>
<p>The text file has the following rows: [<em>ALGORITHM</em>, <em>DIMENSION</em>, <em>NUMBER_OF_CLASSES</em>, <em>LABELS</em>, <em>NUMBER_OF_WEIGHTS</em>, <em>BIAS_TERM</em>, <em>KERNEL_WIDTH</em>, <em>MODEL</em>]. In order to compress memory and to use the memory efficiently, we coded the model in the following way:</p>
<p>Each row corresponds to one landmark point. The first element of each row corresponds to element of linear SVM hyperplane for that particular landmark point. This is followed by features of the landmark point in the original feature space of the data set, stored in LIBSVM format. </p>

<p>Implements <a class="el" href="classbudgeted_model.html#acd130171d249e9f2623a7711e28e65f0">budgetedModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="llsvm_8cpp_source.html#l00783">783</a> of file <a class="el" href="llsvm_8cpp_source.html">llsvm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, numClasses;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">float</span> tempFloat;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordtype">string</span> text;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordtype">char</span> oneWord[1024];</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordtype">int</span> pos, tempInt;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    FILE *fModel = NULL;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordtype">bool</span> doneReadingBool;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">double</span> sqrNorm;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    fModel = fopen(filename, <span class="stringliteral">&quot;rt&quot;</span>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (!fModel)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">// algorithm</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    fseek(fModel, strlen(<span class="stringliteral">&quot;ALGORITHM: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;((*param).ALGORITHM)))</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading algorithm type from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="comment">// dimension</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    fseek(fModel, strlen(<span class="stringliteral">&quot;DIMENSION:&quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;((*param).DIMENSION)))</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading number of dimensions from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// number of classes (for LLSVM always equal to 2)</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;NUMBER_OF_CLASSES: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;numClasses))</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading number of classes from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// labels</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;LABELS: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; numClasses; i++)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%d &quot;</span>, &amp;tempInt))</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading labels from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        (*yLabels).push_back(tempInt);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">// number of weights</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;NUMBER_OF_WEIGHTS: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;tempInt))</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading number of weights from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    (*param).BUDGET_SIZE = tempInt;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">// bias parameter</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;BIAS_TERM: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%f\n&quot;</span>, &amp;tempFloat))</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading bias term from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    (*param).BIAS_TERM = tempFloat;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="comment">// read kernel function</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;KERNEL_FUNCTION: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;tempInt))</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading kernel function type from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    (*param).KERNEL = tempInt;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">// kernel parameter (GAMMA) parameter</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;KERNEL_GAMMA_PARAM: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%f\n&quot;</span>, &amp;tempFloat))</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading RBF kernel width parameter from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    (*param).KERNEL_GAMMA_PARAM = tempFloat;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">// kernel degree/slope parameter</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;KERNEL_DEGREE_PARAM: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%f\n&quot;</span>, &amp;tempFloat))</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading kernel degree/slope parameter from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    (*param).KERNEL_DEGREE_PARAM = tempFloat;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">// kernel coefficient/intercept parameter</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;KERNEL_COEF_PARAM: &quot;</span>), SEEK_CUR);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (!fscanf(fModel, <span class="stringliteral">&quot;%f\n&quot;</span>, &amp;tempFloat))</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a>(<span class="stringliteral">&quot;Error reading kernel coefficient/intercept parameter from the model file!\n&quot;</span>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    (*param).KERNEL_COEF_PARAM = tempFloat;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">// allocate memory for model</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="classbudgeted_model_l_l_s_v_m.html#aa2fb0e3b75479b59d8599fd073cb6c84">modelLLSVMmatrixW</a>.resize((*param).BUDGET_SIZE, (*param).BUDGET_SIZE);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">// initialize weight (i.e., hyperplane) in the projected space to zero-vector</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="classbudgeted_model_l_l_s_v_m.html#ab67fd5e7e3c6e045088dd90870f9c84b">modelLLSVMweightVector</a>.resize((*param).BUDGET_SIZE);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">// load the model</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    fseek (fModel, strlen(<span class="stringliteral">&quot;MODEL:\n&quot;</span>) + 1, SEEK_CUR);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; (*param).BUDGET_SIZE; i++)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <a class="code" href="classbudgeted_vector_l_l_s_v_m.html">budgetedVectorLLSVM</a> *eNew = <span class="keyword">new</span> <a class="code" href="classbudgeted_vector_l_l_s_v_m.html">budgetedVectorLLSVM</a>((*param).DIMENSION, (*param).CHUNK_WEIGHT);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        sqrNorm = 0.0L;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="comment">// get alphas and features below</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">// get linear SVM feature</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        doneReadingBool = <a class="code" href="budgeted_s_v_m_8h.html#a8d0659bba9f7002ebb92fb762eb58d44">fgetWord</a>(fModel, oneWord);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="classbudgeted_model_l_l_s_v_m.html#ab67fd5e7e3c6e045088dd90870f9c84b">modelLLSVMweightVector</a>(i) = (double) atof(oneWord);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="comment">// get elements of modelLLSVMmatrixW</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; (*param).BUDGET_SIZE; j++)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            doneReadingBool = <a class="code" href="budgeted_s_v_m_8h.html#a8d0659bba9f7002ebb92fb762eb58d44">fgetWord</a>(fModel, oneWord);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <a class="code" href="classbudgeted_model_l_l_s_v_m.html#aa2fb0e3b75479b59d8599fd073cb6c84">modelLLSVMmatrixW</a>(i, j) = (double) atof(oneWord);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="comment">// get features</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">while</span> (!doneReadingBool)</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            doneReadingBool = <a class="code" href="budgeted_s_v_m_8h.html#a8d0659bba9f7002ebb92fb762eb58d44">fgetWord</a>(fModel, oneWord);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">if</span> (strlen(oneWord) == 0)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            text = oneWord;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">if</span> ((pos = (<span class="keywordtype">int</span>) text.find(<span class="stringliteral">&quot;:&quot;</span>)))</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                tempInt = atoi(text.substr(0, pos).c_str());</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                tempFloat = (float) atof(text.substr(pos + 1, text.length()).c_str());</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                (*eNew)[tempInt - 1] = tempFloat;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                sqrNorm += (<span class="keywordtype">long</span> double)(tempFloat * tempFloat);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        eNew-&gt;<a class="code" href="classbudgeted_vector.html#a4848135482baa237fe9c2428c6e52219">setSqrL2norm</a>(sqrNorm);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        (*modelLLSVMlandmarks).push_back(eNew);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        eNew = NULL;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    fclose(fModel);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36f9fbd1e781331190edee1f5571673c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f9fbd1e781331190edee1f5571673c">&#9670;&nbsp;</a></span>saveToTextFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool budgetedModelLLSVM::saveToTextFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>yLabels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparameters.html">parameters</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves the trained LLSVM model to .txt file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Filename of the .txt file where the model is saved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">yLabels</td><td>Vector of possible labels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>The parameters of the algorithm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns false if error encountered, otherwise true.</dd></dl>
<p>The text file has the following rows: [<em>ALGORITHM</em>, <em>DIMENSION</em>, <em>NUMBER_OF_CLASSES</em>, <em>LABELS</em>, <em>NUMBER_OF_WEIGHTS</em>, <em>BIAS_TERM</em>, <em>KERNEL_WIDTH</em>, <em>MODEL</em>]. In order to compress memory and to use the memory efficiently, we coded the model in the following way:</p>
<p>Each row corresponds to one landmark point. The first element of each row corresponds to element of linear SVM hyperplane for that particular landmark point. This is followed by features of the landmark point in the original feature space of the data set, stored in LIBSVM format. </p>

<p>Implements <a class="el" href="classbudgeted_model.html#a5bcca14cc5c34051e529bdaf9b639f30">budgetedModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="llsvm_8cpp_source.html#l00709">709</a> of file <a class="el" href="llsvm_8cpp_source.html">llsvm.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    FILE *fModel = NULL;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    fModel = fopen(filename, <span class="stringliteral">&quot;wt&quot;</span>); </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (!fModel)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// algorithm</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;ALGORITHM: %d\n&quot;</span>, (*param).ALGORITHM);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// dimension</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;DIMENSION: %d\n&quot;</span>, (*param).DIMENSION);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="comment">// number of classes</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;NUMBER_OF_CLASSES: %d\n&quot;</span>, (<span class="keywordtype">int</span>) (*yLabels).size());</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// labels</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;LABELS:&quot;</span>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; (*yLabels).size(); i++)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        fprintf(fModel, <span class="stringliteral">&quot; %d&quot;</span>, (*yLabels)[i]);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// number of weights</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;NUMBER_OF_WEIGHTS:&quot;</span>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot; %d\n&quot;</span>, (<span class="keywordtype">int</span>) (*modelLLSVMlandmarks).size());</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// bias parameter</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;BIAS_TERM: %f\n&quot;</span>, (*param).BIAS_TERM);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// kernel function</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;KERNEL_FUNCTION: %d\n&quot;</span>, (*param).KERNEL);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// kernel width (GAMMA) parameter</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;KERNEL_GAMMA_PARAM: %f\n&quot;</span>, (*param).KERNEL_GAMMA_PARAM);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// kernel degree/slope parameter</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;KERNEL_DEGREE_PARAM: %f\n&quot;</span>, (*param).KERNEL_DEGREE_PARAM);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// kernel coef/intercept parameter</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;KERNEL_COEF_PARAM: %f\n&quot;</span>, (*param).KERNEL_COEF_PARAM);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// save the model</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    fprintf(fModel, <span class="stringliteral">&quot;MODEL:\n&quot;</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; (*modelLLSVMlandmarks).size(); i++)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="comment">// put the i-th value of linear SVM hyperplane</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        fprintf(fModel, <span class="stringliteral">&quot;%2.6f&quot;</span>, (<span class="keywordtype">double</span>)<a class="code" href="classbudgeted_model_l_l_s_v_m.html#ab67fd5e7e3c6e045088dd90870f9c84b">modelLLSVMweightVector</a>(i));</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="comment">// next, put the values of one row of modelLLSVMmatrixW</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; (*param).BUDGET_SIZE; j++)</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            fprintf(fModel, <span class="stringliteral">&quot; %2.6f&quot;</span>, <a class="code" href="classbudgeted_model_l_l_s_v_m.html#aa2fb0e3b75479b59d8599fd073cb6c84">modelLLSVMmatrixW</a>(i, j));</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="comment">// finally, store the landmark point</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; (*param).DIMENSION; j++)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">if</span> ((*((*<a class="code" href="classbudgeted_model_l_l_s_v_m.html#aed3e196f4323c1ec750d0431ae834b8b">modelLLSVMlandmarks</a>)[i]))[j] != 0.0)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                fprintf(fModel, <span class="stringliteral">&quot; %d:%2.6f&quot;</span>, j + 1, (*((*<a class="code" href="classbudgeted_model_l_l_s_v_m.html#aed3e196f4323c1ec750d0431ae834b8b">modelLLSVMlandmarks</a>)[i]))[j]);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        fprintf(fModel, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    fclose(fModel);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/Nemanja/Documents/Yahoo/Downloads/BudgetedSVM/src/<a class="el" href="llsvm_8h_source.html">llsvm.h</a></li>
<li>C:/Users/Nemanja/Documents/Yahoo/Downloads/BudgetedSVM/src/<a class="el" href="llsvm_8cpp_source.html">llsvm.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassbudgeted_model_l_l_s_v_m_html_ab67fd5e7e3c6e045088dd90870f9c84b"><div class="ttname"><a href="classbudgeted_model_l_l_s_v_m.html#ab67fd5e7e3c6e045088dd90870f9c84b">budgetedModelLLSVM::modelLLSVMweightVector</a></div><div class="ttdeci">VectorXd modelLLSVMweightVector</div><div class="ttdoc">Holds weight vector, the solution of linear SVM on transformed points.</div><div class="ttdef"><b>Definition:</b> <a href="llsvm_8h_source.html#l00078">llsvm.h:78</a></div></div>
<div class="ttc" id="aclassbudgeted_model_l_l_s_v_m_html_aa2fb0e3b75479b59d8599fd073cb6c84"><div class="ttname"><a href="classbudgeted_model_l_l_s_v_m.html#aa2fb0e3b75479b59d8599fd073cb6c84">budgetedModelLLSVM::modelLLSVMmatrixW</a></div><div class="ttdeci">MatrixXd modelLLSVMmatrixW</div><div class="ttdoc">Holds transformation matrix, used to compute the mapping from original feature space into low-D space...</div><div class="ttdef"><b>Definition:</b> <a href="llsvm_8h_source.html#l00079">llsvm.h:79</a></div></div>
<div class="ttc" id="abudgeted_s_v_m_8h_html_a8d0659bba9f7002ebb92fb762eb58d44"><div class="ttname"><a href="budgeted_s_v_m_8h.html#a8d0659bba9f7002ebb92fb762eb58d44">fgetWord</a></div><div class="ttdeci">bool fgetWord(FILE *fHandle, char *str)</div><div class="ttdoc">Reads one word string from an input file.</div><div class="ttdef"><b>Definition:</b> <a href="budgeted_s_v_m_8cpp_source.html#l00037">budgetedSVM.cpp:37</a></div></div>
<div class="ttc" id="abudgeted_s_v_m_8h_html_a352aeda611aa1c19639d8ed8fdaf8cec"><div class="ttname"><a href="budgeted_s_v_m_8h.html#a352aeda611aa1c19639d8ed8fdaf8cec">svmPrintErrorString</a></div><div class="ttdeci">void svmPrintErrorString(const char *text)</div><div class="ttdoc">Prints error string to the output.</div><div class="ttdef"><b>Definition:</b> <a href="budgeted_s_v_m_8cpp_source.html#l00140">budgetedSVM.cpp:140</a></div></div>
<div class="ttc" id="aclassbudgeted_vector_l_l_s_v_m_html"><div class="ttname"><a href="classbudgeted_vector_l_l_s_v_m.html">budgetedVectorLLSVM</a></div><div class="ttdoc">Class which holds sparse vector, which is split into a number of arrays to trade-off between speed of...</div><div class="ttdef"><b>Definition:</b> <a href="llsvm_8h_source.html#l00026">llsvm.h:27</a></div></div>
<div class="ttc" id="aclassbudgeted_vector_html_a4848135482baa237fe9c2428c6e52219"><div class="ttname"><a href="classbudgeted_vector.html#a4848135482baa237fe9c2428c6e52219">budgetedVector::setSqrL2norm</a></div><div class="ttdeci">virtual void setSqrL2norm(long double newSqrNorm)</div><div class="ttdoc">Returns sqrL2norm, a squared L2-norm of the vector.</div><div class="ttdef"><b>Definition:</b> <a href="budgeted_s_v_m_8h_source.html#l00590">budgetedSVM.h:590</a></div></div>
<div class="ttc" id="aclassbudgeted_model_l_l_s_v_m_html_aed3e196f4323c1ec750d0431ae834b8b"><div class="ttname"><a href="classbudgeted_model_l_l_s_v_m.html#aed3e196f4323c1ec750d0431ae834b8b">budgetedModelLLSVM::modelLLSVMlandmarks</a></div><div class="ttdeci">vector&lt; budgetedVectorLLSVM * &gt; * modelLLSVMlandmarks</div><div class="ttdoc">Holds landmark points, used to compute the transformation matrix modelLLSVMmatrixW.</div><div class="ttdef"><b>Definition:</b> <a href="llsvm_8h_source.html#l00077">llsvm.h:77</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 28 2020 02:22:45 for BudgetedSVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
